<div class="container-xxl flex-grow-1 container-p-y">
  <h4 class="fw-bold py-3 mb-4">
    <span class="text-muted fw-light">Create/</span> Factures
  </h4>

  <!-- Basic Layout & Basic with Icons -->
  <div class="row">
    <form class="col-xxl" [formGroup]="myForm" (ngSubmit)="create()">
      <div class="card mb-4">
        <div
          class="card-header d-flex align-items-center justify-content-between"
        >
          <h5 class="mb-0">Data Facture</h5>
          <small class="text-muted float-end">Data</small>
        </div>
        <div class="card-body">
          <div class="col-md">
            <label class="col-sm-2 col-form-label" for="basic-default-phone"
              >Pay Method</label
            >
            <div class="form-check form-check-inline mt-3">
              <input
                class="form-check-input"
                type="radio"
                name="payMethod"
                id="inlineRadio1"
                [value]="'credito'"
                formControlName="payMethod"
              />
              <label class="form-check-label" for="inlineRadio1">credito</label>
            </div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="payMethod"
                id="inlineRadio2"
                [value]="'contado'"
                formControlName="payMethod"
              />
              <label class="form-check-label" for="inlineRadio2">contado</label>
            </div>
          </div>
          <div class="row mb-3">
            <label for="exampleFormControlInput1" class="col-sm-2 col-form-label"
              >TotalPayments</label
            >
            <input
              type="number"
              class="form-control"
              id="exampleFormControlInput1"
              placeholder="0"
              formControlName="totalPayments"
            />
          </div>

          <div class="row mb-3">
            <label class="col-sm-2 col-form-label" for="basic-default-phone"
              >Ruc</label
            >
            <div class="col-sm-10">
              <input
                type="text"
                id="basic-default-phone"
                class="form-control phone-mask"
                placeholder="1.5"
                aria-label="658 799 8941"
                aria-describedby="basic-default-phone"
                formControlName="ruc"
              />
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12">
        <div class="card mb-4">
          <h5 class="card-header">DetailControl</h5>
          <ng-container
            formArrayName="details"
            *ngFor="let det of details.controls; let i = index"
          >
            <button
              type="button"
              class="btn btn-outline-info"
              (click)="deleteDetail(i)"
              style="width: 300px"
            >
              detele Detail
            </button>

            <div class="card-body" [formGroupName]="i">
              <div class="mt-2 mb-3">
                <label for="largeSelect" class="form-label">Product</label>
                <select
                  id="largeSelect"
                  class="form-select form-select-lg"
                  formControlName="product"
                >
                  <ng-container *ngFor="let product of products()">
                    <option [value]="product._id">{{ product.name }}</option>
                  </ng-container>
                </select>
              </div>
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label"
                  >Cantidad</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="exampleFormControlInput1"
                  placeholder="0"
                  formControlName="amount"
                />
              </div>

              <hr />
            </div>
          </ng-container>

          <button
            type="button"
            class="btn btn-outline-info"
            (click)="agregar()"
          >
            add new Detail
          </button>
        </div>
      </div>
      <div class="col-md-12">
        <div class="card mb-4">
          <button
            type="submit"
            class="btn btn-outline-info"
            [disabled]="myForm.invalid"
          >
            Crear
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
